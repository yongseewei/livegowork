c
Job.near("kuala lumpur")
Job.near(@coord)
 @jobs = Job.near([@coord["lat"],@coord["lng"]],2.33)
Job.near(@coord)
@coord
c
filtering_params(params)c
filtering_params(params)
c
params
c
params
c
loc
c
location[:min]..location[:max]
location
params
c
filtering_params(params)
params
c
params
c
location[:lat]
lat:
lat
"lat"
lat
:lat
location
params
location
c
params[:zoom]
c
params
c
params[:zoom]
params
c
params
c
params.fetch(:lat)
params
c
public_send(key,value)
public_send
value
key
c
 params.require(:price).permit(:min, :max).reject { |x, y| puts y }
 params.require(:price).permit(:min, :max).reject { |x, y| put y }
c
range.fetch(:min)
range.fetch
range
c
filtering_params(params)
params
c
Cook params
all jobs
c
max
max = max == "500" ? "9999" : range.fetch(:max)
max == "500"
max
c
max
c
max
c
near([params[:map][:lat].to_f,params[:map][:lng].to_f],zoom)
zoom =  Math.exp((14.24 - params[:map][:zoom].to_f)*Math.log(2))
params
c
filtering_params(params)
filtering_params
c
 params[:price]
 params
 params[:price][:jobs]
c
params[:map]
params[:map][:lat].presence
params[:map][:lat]
params
c
params[:map][:zoom]
c
params
c
params
c
params
c
params
c
params
c
params
c
params
c
params
c
params
c
max
c
filter_params
c
params
c
@jobs = @jobs.filter_by_range(filter_params)
@jobs = Job.where(id: params[:jobs].split(" "))
c
@jobs.count
@jobs.length
@jobs
@jobs = @jobs.filter_by_range(filter_params)
 @jobs = Job.where(id: params[:jobs].split(" "))
filter_params
params
c
Job.where(id: params[:jobs].split(" "))
filter_params
@jobs
@search
params
c
params
c
params
c
params
c
params
c
@jobs
params
c
filter_params
c
params
c
